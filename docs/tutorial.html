<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‚¨çš„ç¬¬ä¸€ä¸ª Anoma åº”ç”¨ç¨‹åº - Anoma å¼€å‘è€…æ–‡æ¡£</title>
    <link rel="icon" type="image/svg+xml" href="iso.svg">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <img src="iso.svg" alt="Anoma" class="nav-icon">
                    <h1>Anoma å¼€å‘è€…æ–‡æ¡£</h1>
                </div>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">æ¦‚è¿°</a>
                    </li>
                    <li class="nav-item">
                        <a href="build.html" class="nav-link active">æ„å»º</a>
                    </li>
                    <li class="nav-item">
                        <a href="learn.html" class="nav-link">å­¦ä¹ </a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <main class="main-content">
        <div class="container">
            <section class="page-header">
                <h1>æ‚¨çš„ç¬¬ä¸€ä¸ª Anoma åº”ç”¨ç¨‹åº</h1>
                <p class="page-description">ä¸€ä¸ªè®¾ç½®æ‚¨æ„å»ºã€è¿è¡Œå’Œæµ‹è¯•ç¬¬ä¸€ä¸ª Anoma åº”ç”¨ç¨‹åºçš„æ•™ç¨‹</p>
            </section>

            <section class="content-section">
                <div class="prerequisite-box">
                    <h3>ğŸ“‹ å‰ææ¡ä»¶</h3>
                    <p>åœ¨åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ª Anoma dApp ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²ç» <a href="build.html">å®‰è£…äº† Juvix</a>ã€‚</p>
                </div>
                
                <div class="goal-box">
                    <h3>ğŸ¯ æœ¬æ•™ç¨‹çš„ç›®æ ‡</h3>
                    <p>è®©æ‚¨çš„åº”ç”¨ç¨‹åºåœ¨æœ¬åœ°è¿è¡Œã€‚</p>
                </div>
            </section>

            <section class="content-section">
                <h2>ç¬¬ä¸€æ­¥ï¼šå®šä¹‰èµ„æº</h2>
                <p>åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ„å»ºèµ„æºå¯¹è±¡çš„è„šæ‰‹æ¶å¹¶æ·»åŠ æˆ‘ä»¬çš„è‡ªå®šä¹‰æ ‡ç­¾ã€‚</p>
                
                <div class="code-section">
                    <h3>åˆ›å»º HelloWorld.juvix</h3>
                    <p>è®©æˆ‘ä»¬ä»ä¸€äº› Juvix ä»£ç å¼€å§‹ã€‚æˆ‘ä»¬é¦–å…ˆå®šä¹‰ä¸€ä¸ª Anoma èµ„æºã€‚</p>
                    <pre><code>module HelloWorld;

import Stdlib.Prelude open;
import Anoma.Resource open;
import Anoma.Transaction open;
import Anoma.Delta open;
import Anoma.State open;
import Anoma.Logic open;

-- å®šä¹‰ HelloWorld èµ„æºç±»å‹
type HelloWorldResource := mkHelloWorldResource {
  message : String;
  owner : PublicKey;
};

-- èµ„æºé€»è¾‘
helloWorldLogic : Logic HelloWorldResource
  := mkLogic@{
    logicFunction := \resource delta -> 
      case delta of
        | Create _ -> True
        | Consume _ -> True
        | _ -> False;
  };

-- åˆ›å»º HelloWorld èµ„æºçš„å‡½æ•°
createHelloWorld (message : String) (owner : PublicKey) : Resource HelloWorldResource
  := mkResource@{
    resourceData := mkHelloWorldResource message owner;
    resourceLogic := helloWorldLogic;
  };</code></pre>
                </div>
            </section>

            <section class="content-section">
                <h2>ç¬¬äºŒæ­¥ï¼šç¼–å†™äº¤æ˜“å‡½æ•°</h2>
                <p>ç°åœ¨æˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ªäº¤æ˜“å‡½æ•°æ¥åˆ›å»ºæˆ‘ä»¬çš„ HelloWorld èµ„æºã€‚</p>
                
                <div class="code-section">
                    <h3>äº¤æ˜“å‡½æ•°å®ç°</h3>
                    <pre><code>-- åˆå§‹åŒ– HelloWorld èµ„æºçš„äº¤æ˜“å‡½æ•°
initializeHelloWorld (message : String) (owner : PublicKey) : Transaction
  := mkTransaction@{
    transactionInputs := [];
    transactionOutputs := [createHelloWorld message owner];
    transactionProofs := [];
  };

-- æ›´æ–°æ¶ˆæ¯çš„äº¤æ˜“å‡½æ•°
updateMessage (oldResource : Resource HelloWorldResource) 
              (newMessage : String) 
              (owner : PublicKey) : Transaction
  := mkTransaction@{
    transactionInputs := [oldResource];
    transactionOutputs := [createHelloWorld newMessage owner];
    transactionProofs := [];
  };</code></pre>
                </div>
                
                <div class="explanation-box">
                    <h3>ğŸ’¡ ä»£ç è§£é‡Š</h3>
                    <ul>
                        <li><strong>initializeHelloWorld</strong>ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ HelloWorld èµ„æº</li>
                        <li><strong>updateMessage</strong>ï¼šæ¶ˆè´¹æ—§èµ„æºå¹¶åˆ›å»ºå¸¦æœ‰æ–°æ¶ˆæ¯çš„èµ„æº</li>
                        <li><strong>transactionInputs</strong>ï¼šè¦æ¶ˆè´¹çš„èµ„æºåˆ—è¡¨</li>
                        <li><strong>transactionOutputs</strong>ï¼šè¦åˆ›å»ºçš„èµ„æºåˆ—è¡¨</li>
                    </ul>
                </div>
            </section>

            <section class="content-section">
                <h2>ç¬¬ä¸‰æ­¥ï¼šç¼–å†™æŠ•å½±å‡½æ•°</h2>
                <p>ç¼–å†™æŠ•å½±å‡½æ•°ä»¥å…è®¸ä¸åº”ç”¨ç¨‹åºçŠ¶æ€è¿›è¡Œè¯»å–äº¤äº’ã€‚</p>
                
                <div class="code-section">
                    <h3>åˆ›å»º GetMessage.juvix</h3>
                    <pre><code>module GetMessage;

import Stdlib.Prelude open;
import HelloWorld open;
import Anoma.Resource open;
import Anoma.State open;

-- æŠ•å½±å‡½æ•°ï¼šè·å–æœ€æ–°æ¶ˆæ¯
getLatestMessage (state : State) : Maybe String
  := case findLatestResource@{HelloWorldResource} state of
    | nothing -> nothing
    | just resource -> 
      case resource of
        | mkResource (mkHelloWorldResource message _) _ -> just message;

-- æŠ•å½±å‡½æ•°ï¼šè·å–æ‰€æœ‰æ¶ˆæ¯å†å²
getMessageHistory (state : State) : List String
  := map (\resource -> 
    case resource of
      | mkResource (mkHelloWorldResource message _) _ -> message
    ) (findAllResources@{HelloWorldResource} state);

-- æŠ•å½±å‡½æ•°ï¼šæ£€æŸ¥èµ„æºæ‰€æœ‰è€…
checkOwnership (state : State) (owner : PublicKey) : Bool
  := case findLatestResource@{HelloWorldResource} state of
    | nothing -> False
    | just resource -> 
      case resource of
        | mkResource (mkHelloWorldResource _ resourceOwner) _ -> 
          owner == resourceOwner;</code></pre>
                </div>
            </section>

            <section class="content-section">
                <h2>ç¬¬å››æ­¥ï¼šè¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åº</h2>
                <p>ç°åœ¨æˆ‘ä»¬å·²ç»ç¼–å†™äº†åˆ›å»º HelloWorld èµ„æºå¯¹è±¡æ‰€éœ€çš„ä»£ç ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªäº¤æ˜“æ¥åˆå§‹åŒ–æˆ‘ä»¬çš„ HelloWorld èµ„æºã€‚</p>
                
                <div class="warning-box">
                    <h3>âš ï¸ é‡è¦æç¤º</h3>
                    <p>ä»¥ä¸‹è¿è¡Œ Anoma å®¢æˆ·ç«¯å’ŒèŠ‚ç‚¹çš„æ–¹å¼æ˜¯ä¸´æ—¶çš„ï¼Œå› æ­¤æ˜¯æ­£åœ¨è¿›è¡Œçš„å·¥ä½œåŒºåŸŸï¼Œç‰¹å®šäºå½“å‰å¼€å‘ç½‘ç»œé˜¶æ®µã€‚</p>
                </div>
                
                <div class="setup-steps">
                    <h3>ç¯å¢ƒè®¾ç½®</h3>
                    <div class="step">
                        <h4>1. è·å– Anoma ä»£ç åº“</h4>
                        <p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ Anoma ä»£ç åº“çš„æœ¬åœ°ç‰ˆæœ¬ï¼ˆæäº¤ 6a07f590a5a1addb52fa7f6e39dd9315accc93c5ï¼‰ï¼Œå®‰è£…å…¶ä¾èµ–é¡¹å¹¶ç¼–è¯‘ä»£ç ã€‚</p>
                        <pre><code># è®¾ç½® Anoma è·¯å¾„ç¯å¢ƒå˜é‡
# ç¤ºä¾‹ï¼š
# export ANOMA_PATH=~/anoma/anoma
export ANOMA_PATH=#INSERT_PATH_TO_ANOMA_FOLDER</code></pre>
                    </div>
                    
                    <div class="step">
                        <h4>2. å®‰è£…ä¾èµ–é¡¹</h4>
                        <p>åœ¨åˆ›å»ºå¿…è¦çš„ makefile ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…å…¶ä¾èµ–é¡¹ã€‚</p>
                        
                        <div class="install-tabs">
                            <div class="tab-content">
                                <h5>ğŸº Homebrew</h5>
                                <pre><code>brew install jq
brew install yq
brew install grpcurl</code></pre>
                            </div>
                            
                            <div class="tab-content">
                                <h5>ğŸ§ Ubuntu/Debian</h5>
                                <pre><code># jq
sudo apt-get install jq
# yq
sudo add-apt-repository ppa:rmescandon/yq
sudo apt update
sudo apt install yq -y
# grpcurl
# è¯·ä»æºç æ„å»ºï¼šhttps://github.com/fullstorydev/grpcurl/releases</code></pre>
                            </div>
                            
                            <div class="tab-content">
                                <h5>ğŸ”ï¸ Arch Linux</h5>
                                <pre><code>sudo pacman -S jq
sudo pacman -S yq
# è¯·ä»æºç æ„å»º grpcurlï¼šhttps://github.com/fullstorydev/grpcurl/releases</code></pre>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h4>3. åˆ›å»º Makefile</h4>
                        <p>å‡è®¾æ‚¨å·²ç»æˆåŠŸç¼–è¯‘äº† Anoma ä»£ç åº“å¹¶å®‰è£…äº†ä¸Šè¿°ä¾èµ–é¡¹ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ makefile æ¥å¯åŠ¨ Anoma å®¢æˆ·ç«¯å’Œ Anoma èŠ‚ç‚¹ã€‚</p>
                        <div class="note-box">
                            <p><strong>æ³¨æ„ï¼š</strong>è¯·æ³¨æ„ï¼Œmakefile æ˜¯ä¸´æ—¶çš„ï¼Œæ˜¯å½“å‰å¼€å‘ç½‘ç»œé˜¶æ®µçš„äº§ç‰©ã€‚</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="content-section">
                <h2>ç¬¬äº”æ­¥ï¼šæµ‹è¯•åº”ç”¨ç¨‹åº</h2>
                <div class="test-steps">
                    <div class="test-step">
                        <h3>å¯åŠ¨ Anoma èŠ‚ç‚¹</h3>
                        <pre><code>make anoma-start</code></pre>
                    </div>
                    
                    <div class="test-step">
                        <h3>æ·»åŠ äº¤æ˜“</h3>
                        <pre><code>make add-transaction</code></pre>
                    </div>
                    
                    <div class="test-step">
                        <h3>è·å–æœ€æ–°æ¶ˆæ¯</h3>
                        <pre><code>make get-last-message</code></pre>
                    </div>
                    
                    <div class="test-step">
                        <h3>åœæ­¢ Anoma èŠ‚ç‚¹</h3>
                        <pre><code>make anoma-stop</code></pre>
                    </div>
                </div>
            </section>

            <section class="content-section">
                <h2>æ­å–œï¼ğŸ‰</h2>
                <p>æ‚¨å·²ç»æˆåŠŸåˆ›å»ºå¹¶è¿è¡Œäº†æ‚¨çš„ç¬¬ä¸€ä¸ª Anoma åº”ç”¨ç¨‹åºï¼è¿™ä¸ªç®€å•çš„ HelloWorld ç¤ºä¾‹å±•ç¤ºäº†ï¼š</p>
                
                <div class="achievement-list">
                    <div class="achievement">
                        <h4>âœ… èµ„æºå®šä¹‰</h4>
                        <p>å¦‚ä½•å®šä¹‰è‡ªå®šä¹‰èµ„æºç±»å‹å’Œé€»è¾‘</p>
                    </div>
                    
                    <div class="achievement">
                        <h4>âœ… äº¤æ˜“å‡½æ•°</h4>
                        <p>å¦‚ä½•ç¼–å†™åˆ›å»ºå’Œæ›´æ–°èµ„æºçš„äº¤æ˜“å‡½æ•°</p>
                    </div>
                    
                    <div class="achievement">
                        <h4>âœ… æŠ•å½±å‡½æ•°</h4>
                        <p>å¦‚ä½•ç¼–å†™æŸ¥è¯¢åº”ç”¨ç¨‹åºçŠ¶æ€çš„æŠ•å½±å‡½æ•°</p>
                    </div>
                    
                    <div class="achievement">
                        <h4>âœ… æœ¬åœ°è¿è¡Œ</h4>
                        <p>å¦‚ä½•åœ¨æœ¬åœ°ç¯å¢ƒä¸­è¿è¡Œå’Œæµ‹è¯•åº”ç”¨ç¨‹åº</p>
                    </div>
                </div>
            </section>

            <section class="next-steps">
                <h2>ä¸‹ä¸€æ­¥</h2>
                <p>ç°åœ¨æ‚¨å·²ç»æŒæ¡äº†åŸºç¡€çŸ¥è¯†ï¼Œå‡†å¤‡æ¢ç´¢æ›´é«˜çº§çš„æ¦‚å¿µäº†å—ï¼Ÿ</p>
                <div class="cta-buttons">
                    <a href="learn.html" class="btn btn-primary">å­¦ä¹ é«˜çº§æ¦‚å¿µ</a>
                    <a href="#" class="btn btn-secondary">æŸ¥çœ‹æ›´å¤šç¤ºä¾‹</a>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 Anoma å¼€å‘è€…æ–‡æ¡£. æœ€åæ›´æ–°ï¼š3ä¸ªæœˆå‰</p>
        </div>
    </footer>

    <style>
        .prerequisite-box, .goal-box {
            background: #e6fffa;
            border: 1px solid #81e6d9;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }
        
        .prerequisite-box h3, .goal-box h3 {
            color: #234e52;
            margin-bottom: 0.5rem;
        }
        
        .code-section {
            margin: 2rem 0;
        }
        
        .code-section h3 {
            color: #2d3748;
            margin-bottom: 1rem;
        }
        
        .explanation-box {
            background: #f0f9ff;
            border: 1px solid #7dd3fc;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }
        
        .explanation-box h3 {
            color: #0c4a6e;
            margin-bottom: 1rem;
        }
        
        .explanation-box ul {
            margin-left: 1.5rem;
        }
        
        .explanation-box li {
            margin-bottom: 0.5rem;
            color: #374151;
        }
        
        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }
        
        .warning-box h3 {
            color: #856404;
            margin-bottom: 0.5rem;
        }
        
        .setup-steps {
            margin: 2rem 0;
        }
        
        .step {
            background: #f8fafc;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border-left: 4px solid #667eea;
        }
        
        .step h4 {
            color: #2d3748;
            margin-bottom: 1rem;
        }
        
        .install-tabs {
            margin: 1rem 0;
        }
        
        .tab-content {
            background: #f1f5f9;
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
        }
        
        .tab-content h5 {
            color: #2d3748;
            margin-bottom: 0.5rem;
        }
        
        .test-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .test-step {
            background: #f8fafc;
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        
        .test-step h3 {
            color: #2d3748;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .achievement-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .achievement {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            padding: 1.5rem;
            border-radius: 8px;
        }
        
        .achievement h4 {
            color: #166534;
            margin-bottom: 0.5rem;
        }
        
        .achievement p {
            color: #374151;
            font-size: 0.9rem;
        }
    </style>
</body>
</html>